---
title: "Spineを雑に使ってイラストを動かす"
emoji: "🖼️"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["Spine"]
published: true
---

この記事は [Anthrotech Advent Calendar 2025](https://adventar.org/calendars/11972) の18日目の記事です。Anthrotechについては [こちら](https://anthrotech.dev/) をご覧ください。

## はじめに

絵を動かす、となると日本だとLive2Dが有名ですが、同じく2Dアニメーションを作成するツールとしてSpineがあります。特にSpineはゲームへの組み込みでよく使われている印象です。

https://ja.esotericsoftware.com/spine-showcase

SpineのLive2Dとの比較点として

- ボーンベースでアニメーションを作成する
- サブスクはなく買い切りのみ

がよく挙げられますが、便利機能が色々備わっていて（まだ私も使いこなせていませんが……）各機能のうまく活用するとLive2Dよりも楽にアニメーションを作ることができる印象です。

今回はSpineを雑に使ってイラストを動かしてみます。

:::message alert
あくまでSpineってこんなんだよ～～という雰囲気を知ってもらうための記事なので、全然正しくない使い方をしています。ちゃんとやりたい方は公式のチュートリアルが充実しているのでそちらを参考にしてください。
:::

## 絵を用意する

今回は私が描いた以下のイラストを使います。

![イラスト](/images/spine-illust-roughly/image1.jpg)

最初からSpineで動かす前提であれば絵を描く段階でパーツ分けをしておくと後々楽だと思いますが、一枚絵を後から動かしていくパターンのほうが多いと思うので今回は一枚絵から動かせるようにしていきます。

### パーツ分け

ボーンベースなので基本的には関節ごとにパーツを分けていきます。今回は以下のようにパーツ分けをしました。

- 頭
- 右目
- 左目
- 右眉
- 左眉
- 左耳
- 身体（胴体、右腕、右足）
- 左腕
- 左足
- しっぽ
- スカーフ

![パーツ分け例](/images/spine-illust-roughly/image2.png)

パースがあまりかかってない場合は腕や足は丁寧に全部分けたほうがいいですが、今回は右足と右腕はパース的にそこまで可動させる必要がないと思ったのでざっくり胴体に含めています。また左耳は手前に髪の毛があって隠れているため、分離しないと耳のボーンの動きに髪の毛が巻き込まれるので分離しています。首や左の上腕、スカーフは元々のイラストでは描かれていませんが、可動させるために足りないところを描く「塗り足し」を行っています。

あと目はまばたきを作るために眉と目でそれぞれ分離させていますが、まばたき作るの間に合わなかったのでまた後日追記します（すみません）。


### Spineに取り込み

SpineではPSDファイルのインポート機能があるため、パーツをレイヤーごとに分けた後にPSDファイルとして出力します。Spine開いたらPSDインポートで取り込みます。とりあえず入力と出力先フォルダを指定すればなんとかなります。

![PSDインポート](/images/spine-illust-roughly/image3.png)


## ボーンとメッシュ、ウェイト設定

### ボーン作成

PSDをインポートするとレイヤーごとにパーツが分かれているので、各パーツに対してボーンを作成していきます。ボーンは親子関係を設定することで親の動きに子が追従するようになるので、胴体 → 首 → 頭 → 耳 のような階層構造を意識してボーンを作成していきます。

![ボーン作成例](/images/spine-illust-roughly/image4.png)

### メッシュ

次にパーツごとにメッシュを作成していきます。Spineの便利だな～と思うところの一つにこのメッシュの作成をある程度自動化してくれる点があって、結構雑にやってもそれなりにいい感じのメッシュを貼ってくれます。

![メッシュ作成例](/images/spine-illust-roughly/image5.png)

メッシュを貼るとパーツがどのボーンに影響を受けるかを設定できるようになるので、パーツを選択した後にバインドをクリックして影響を受けるボーンを選択していきます。

![バインド設定例](/images/spine-illust-roughly/image6.png)

### ウェイト調整

バインドするとボーンの位置を見てウェイトをある程度自動で調整してくれます。ただそのままでは不自然なので、ボーンを動かしながらウェイトをざっくり調整していきます。ただ各頂点ごとにどのボーンの影響を受けてるのか色分けされた円グラフで表示されるのと、マウスのドラッグで直感的にウェイトの割合を調整できるのはとても良いなと思います

![ウェイト調整](/images/spine-illust-roughly/image7.png)

### 物理コンストレイント

Spineでは揺れものをめっちゃ簡単に作れる物理コンストレイントという機能があります。ボーンにこれを設定するだけで物理演算でボーンが揺れるようになります。設定項目がめちゃくちゃありますが今回はガン無視してそのまま使います。

![物理コンストレイント設定](/images/spine-illust-roughly/image8.png)

ボーンが入れ子構造になっている時は全部に物理コンストレイントを貼っていきます。

![スカーフの物理コンストレイント](/images/spine-illust-roughly/image9.png)

## アニメーション作成

ここまでできたらあとはアニメーションを作成していきます。といっても今回は身体をゆらゆら揺らすアイドルモーション的なアニメーションを作るだけなので、再生しながら雑にキーフレーム打ってカーブを調整していきます。

![アニメーション作成例](/images/spine-illust-roughly/image10.png)

## 出力

最後に動画として出力します。SpineではAVI、MOV、WebM形式で動画出力が可能で、設定も色々あって訳わからなくなると思いますが、とりあえず扱いやすいWebMを選んでおけば大丈夫です。

![動画出力設定](/images/spine-illust-roughly/image11.png)


### 実際の動画
https://vxtwitter.com/bun_agais/status/2001341648320729344

## おわりに

Spineは機能が多い割にはLive2Dと比べると日本語情報が少ないですが、ちょっと慣れればこれくらい雑に動かすだけであればSpineでの作業は30分くらいしかかかりませんし、公式のドキュメントやチュートリアルが豊富なのでイメージされるほど学習は大変ではないと思います。Xで #spine2D で検索するとかなり高品質な作品がたくさん出てくるのでぜひ見てみてください

明日19日目の担当は 烏龍さんです。お楽しみに。


## 参考資料

- [公式サイト](https://ja.esotericsoftware.com/spine-academy)
    - 海外製ソフトの割に日本語で描かれた公式資料が豊富です。とりあえず公式読めば何とかなると思います
- [公式YouTubeチャンネル](https://www.youtube.com/channel/UCg95nRAEFyWzjoTRJJpVWKw)
    - こちらの動画は基本英語（一部日本語あり）ですが、自動字幕使えば大体理解できると思います
- [G2 Studioのnote記事](https://note.g2-studios.net/)
    - Spineの解説記事を色々書いてくれています